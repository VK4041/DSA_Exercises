// Divide and Conquer - countZeroes
// Given an array of 1s and 0s which has all 1s first followed by all 0s,
// write a function called countZeroes, which returns the number of zeroes in the array.

// Time Complexity - O(log n)

// function countZeroes(binaryArr) {
//   let len = binaryArr.length;
//   if (!len) return 0;
//   if (len === 1) return Number(!binaryArr[0]);

//   let start = 0;
//   let end = len - 1;
//   let mid;

//   while (start <= end) {
//     mid = Math.floor((start + end) / 2);

//     //If mid element is 0
//     if (binaryArr[mid] === 0) {
//       //And previous element is 1
//       if (binaryArr[mid - 1] === 1) return len - mid;
//       //Previous element is 0->discard forward array
//       else end = mid - 1;
//     }
//     //Else mid element is 1
//     else {
//       //If next element is 0
//       if (binaryArr[mid + 1] === 0) return len - (mid + 1);
//       //If next element is 1
//       else start = mid + 1;
//     }
//   }
// }
//Original approach, faster for normal cases, but incorrect for edge cases due to arr[mid+1] or arr[mid-1] becoming undefined

function countZeroes(binaryArr) {
  let len = binaryArr.length;
  if (!len) return 0;
  if (len === 1) return Number(!binaryArr[0]);

  let start = 0;
  let end = len - 1;
  let mid;

  while (start <= end) {
    mid = Math.floor((start + end) / 2);
    //Anything other than 0
    if (binaryArr[mid]) start = mid + 1;
    //Only zero
    else end = mid - 1;
  }
  return len - start;
}

//Test cases generated by ChatGPT
// 1ï¸âƒ£ All ones â€” no zeroes at all
console.log(countZeroes([1, 1, 1, 1, 1, 1, 1, 1])); // Expected: 0

// 2ï¸âƒ£ All zeroes â€” no ones at all
console.log(countZeroes([0, 0, 0, 0, 0, 0, 0, 0])); // Expected: 8

// 3ï¸âƒ£ Only one element, it's a 1
console.log(countZeroes([1])); // Expected: 0

// 4ï¸âƒ£ Only one element, it's a 0
console.log(countZeroes([0])); // Expected: 1

// 5ï¸âƒ£ Transition happens right in the middle
console.log(countZeroes([1, 1, 1, 1, 0, 0, 0, 0])); // Expected: 4

// 6ï¸âƒ£ Transition happens at the end â€” just one 0
console.log(countZeroes([1, 1, 1, 1, 1, 1, 1, 0])); // Expected: 1

// 7ï¸âƒ£ Transition happens early â€” mostly zeroes
console.log(countZeroes([1, 0, 0, 0, 0, 0, 0, 0])); // Expected: 7

// 8ï¸âƒ£ Empty array
console.log(countZeroes([])); // Expected: 0

// 9ï¸âƒ£ Very large array, transition happens near the end
console.log(countZeroes([...Array(9999).fill(1), ...Array(1001).fill(0)])); // Expected: 1001

// ðŸ”Ÿ Trick case â€” exactly one of each, minimal switch
console.log(countZeroes([1, 0])); // Expected: 1
